# **DNS (Domain Name System) –≤ –¥–µ—Ç–∞–ª—è—Ö** üåçüöÄ

## **1. –ß—Ç–æ —Ç–∞–∫–æ–µ DNS?**
**DNS (Domain Name System)** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–≤–æ–¥–∏—Ç **–¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `google.com`) –≤ **IP-–∞–¥—Ä–µ—Å–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `142.250.74.238`), –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º.

üîπ **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω DNS?**  
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å IP-–∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–≤–æ–¥—è—Ç —É–¥–æ–±–Ω—ã–µ **—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ** –∏–º–µ–Ω–∞, –∞ DNS —Å–∞–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ (—Ä–µ–∑–æ–ª–≤–∏–Ω–≥).

---

## **2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç DNS-–∑–∞–ø—Ä–æ—Å?** üîÑ
–ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ `google.com` –≤ –±—Ä–∞—É–∑–µ—Ä–µ, DNS –ø—Ä–æ—Ö–æ–¥–∏—Ç **4 —ç—Ç–∞–ø–∞ –ø–æ–∏—Å–∫–∞**:

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞**
–ë—Ä–∞—É–∑–µ—Ä –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç, –Ω–µ—Ç –ª–∏ —É–∂–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è `google.com`.

### **2. –ó–∞–ø—Ä–æ—Å –∫ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–º—É DNS-—Ä–µ–∑–æ–ª–≤–µ—Ä—É**
–ï—Å–ª–∏ IP –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ, –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ **—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä** (–æ–±—ã—á–Ω–æ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, Google DNS `8.8.8.8`, Cloudflare `1.1.1.1`).

### **3. –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ DNS-—Å–µ—Ä–≤–µ—Ä–∞–º**
DNS-—Å–µ—Ä–≤–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
1. **Root-—Å–µ—Ä–≤–µ—Ä—ã** (`.`) ‚Üí –ù–∞–ø—Ä–∞–≤–ª—è—é—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä `.com`.
2. **TLD-—Å–µ—Ä–≤–µ—Ä—ã** (`.com`) ‚Üí –ù–∞–ø—Ä–∞–≤–ª—è—é—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä `google.com`.
3. **Authoritative-—Å–µ—Ä–≤–µ—Ä `google.com`** ‚Üí –û—Ç–¥–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å.

### **4. –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞**
–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ä–µ–∑–æ–ª–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç IP, –∫–µ—à–∏—Ä—É–µ—Ç –µ–≥–æ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

---

## **3. –í–∏–¥—ã DNS-–∑–∞–ø—Ä–æ—Å–æ–≤** üïµÔ∏è‚Äç‚ôÇÔ∏è
- **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π** ‚Äì —Å–µ—Ä–≤–µ—Ä –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç IP.
- **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π** ‚Äì —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –±–ª–∏–∂–∞–π—à–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –Ω–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ.

---

## **4. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã DNS-–∑–∞–ø–∏—Å–µ–π** üìå
DNS —Ö—Ä–∞–Ω–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ IP-–∞–¥—Ä–µ—Å–∞, –Ω–æ –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏.

| **–¢–∏–ø**  | **–û–ø–∏—Å–∞–Ω–∏–µ** | **–ü—Ä–∏–º–µ—Ä** |
|----------|-------------|------------|
| `A` | IPv4-–∞–¥—Ä–µ—Å –¥–æ–º–µ–Ω–∞ | `google.com ‚Üí 142.250.74.238` |
| `AAAA` | IPv6-–∞–¥—Ä–µ—Å –¥–æ–º–µ–Ω–∞ | `google.com ‚Üí 2607:f8b0::200e` |
| `CNAME` | –ê–ª–∏–∞—Å (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ) | `www.example.com ‚Üí example.com` |
| `MX` | –ü–æ—á—Ç–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã | `mail.example.com ‚Üí 10.20.30.40` |
| `TXT` | –¢–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (SPF, DKIM, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞) | `example.com ‚Üí "v=spf1 include:_spf.google.com ~all"` |
| `NS` | –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã | `example.com ‚Üí ns1.dnsprovider.com` |
| `SRV` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª—É–∂–±—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, SIP, XMPP) | `_sip._tcp.example.com` |
| `PTR` | –û–±—Ä–∞—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å (IP ‚Üí –î–æ–º–µ–Ω) | `40.30.20.10 ‚Üí mail.example.com` |

---

## **5. DNS-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ TTL (Time To Live)**
DNS-–∑–∞–ø–∏—Å–∏ –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ ‚Äî –æ–Ω–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö:

- **–ë—Ä–∞—É–∑–µ—Ä** (Chrome, Firefox) ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∫—ç—à **–Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç**.
- **–û–° (Windows, macOS, Linux)** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∫—ç—à **–¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤**.
- **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã** (–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã) ‚Äî –∫–µ—à–∏—Ä—É—é—Ç **–ø–æ TTL**.

### **–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å DNS-–∫–µ—à?**
```sh
# Windows
ipconfig /displaydns

# macOS
sudo killall -HUP mDNSResponder && sudo dscacheutil -flushcache

# Linux
systemd-resolve --statistics
```

### **–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å TTL –¥–æ–º–µ–Ω–∞?**
```sh
nslookup -type=a google.com
```
–ò–õ–ò
```sh
dig google.com +noall +answer
```
üëâ **TTL = 300** –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∫—ç—à–µ 5 –º–∏–Ω—É—Ç.

---

## **6. DNS-–ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è**
### **1. "DNS_PROBE_FINISHED_NXDOMAIN"**
‚ùå –û—à–∏–±–∫–∞: –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.  
‚úÖ **–†–µ—à–µ–Ω–∏–µ:**  
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –¥–æ–º–µ–Ω–∞.
- –°–±—Ä–æ—Å–∏—Ç—å DNS-–∫—ç—à (`ipconfig /flushdns`).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¥—Ä—É–≥–æ–π DNS-—Å–µ—Ä–≤–µ—Ä** (`8.8.8.8`, `1.1.1.1`).

---

### **2. DNS-–∑–∞–ø–∏—Å—å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
‚ùå –û—à–∏–±–∫–∞: –ò–∑–º–µ–Ω–µ–Ω–∏—è DNS –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å.  
‚úÖ **–†–µ—à–µ–Ω–∏–µ:**  
- –ü–æ–¥–æ–∂–¥–∞—Ç—å **–¥–æ 48 —á–∞—Å–æ–≤** (–∏–∑-–∑–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è).
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å DNS-–∫—ç—à (`flushdns`).
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `nslookup` –∏–ª–∏ `dig` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

---

### **3. –ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞**
‚ùå –û—à–∏–±–∫–∞: –î–æ–ª–≥–∏–π –æ—Ç–≤–µ—Ç –æ—Ç DNS.  
‚úÖ **–†–µ—à–µ–Ω–∏–µ:**  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–±—ã—Å—Ç—Ä—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã** (Google, Cloudflare).
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `TTL` –∏ —É–º–µ–Ω—å—à–∏—Ç—å –µ–≥–æ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –ø—Ä–æ–±–ª–µ–º —Å **ISP (–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º)**.

---

## **7. –ë—ã—Å—Ç—Ä—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã (–∑–∞–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—Å–∫–∏–º)**
| **–ü—Ä–æ–≤–∞–π–¥–µ—Ä** | **IPv4** | **IPv6** | **–§–∏—à–∫–∏** |
|--------------|---------|---------|------------|
| **Google** | `8.8.8.8`, `8.8.4.4` | `2001:4860:4860::8888` | –ë—ã—Å—Ç—Ä–æ, —Å—Ç–∞–±–∏–ª—å–Ω–æ |
| **Cloudflare** | `1.1.1.1`, `1.0.0.1` | `2606:4700:4700::1111` | –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π (1ms) |
| **OpenDNS** | `208.67.222.222` | `2620:0:ccc::2` | –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å |
| **Quad9** | `9.9.9.9` | `2620:fe::fe` | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∑–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞ |

üìå **–ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å DNS –≤ —Å–∏—Å—Ç–µ–º–µ?**
1. **Windows**: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –°–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ‚Üí –°–≤–æ–π—Å—Ç–≤–∞ IPv4.
2. **MacOS**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–µ—Ç—å ‚Üí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí DNS.
3. **Linux**: –ò–∑–º–µ–Ω–∏—Ç—å `/etc/resolv.conf`.

---

## **8. DNS over HTTPS (DoH) –∏ DNS over TLS (DoT)**
üîí –û–±—ã—á–Ω—ã–π DNS-–∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è **–±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º –µ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å.

‚úÖ **–†–µ—à–µ–Ω–∏–µ**:
- **DNS over HTTPS (DoH)** ‚Äì —à–∏—Ñ—Ä—É–µ—Ç DNS-–∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ HTTPS.
- **DNS over TLS (DoT)** ‚Äì —à–∏—Ñ—Ä—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ TCP.

üìå **–ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å DoH?**
- **Google Chrome**: –í–∫–ª—é—á–∏—Ç—å "Secure DNS" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.
- **Firefox**: –í–∫–ª—é—á–∏—Ç—å DoH –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Üí **Cloudflare DNS**.
- **Android**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **1.1.1.1 App** –æ—Ç Cloudflare.

---

## **9. DNS vs. CDN (Cloudflare, Akamai, AWS Route 53)**
–ú–Ω–æ–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **CDN (Content Delivery Network)** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∞–π—Ç–æ–≤.

‚úÖ **CDN –∏—Å–ø–æ–ª—å–∑—É—é—Ç Anycast DNS**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å–∞–º –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∫ **–±–ª–∏–∂–∞–π—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É** –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ IP.

**–ü—Ä–∏–º–µ—Ä —Å `dig`:**
```sh
dig google.com
```
üëâ Google –≤—ã–¥–∞—Å—Ç **—Ä–∞–∑–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è**.

---

## **10. –í—ã–≤–æ–¥**
‚úÖ **DNS ‚Äî —ç—Ç–æ "–∞–¥—Ä–µ—Å–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞", –ø–µ—Ä–µ–≤–æ–¥—è—â–∞—è –¥–æ–º–µ–Ω—ã –≤ IP-–∞–¥—Ä–µ—Å–∞.**  
‚úÖ **Event Loop –≤ –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç DNS-–∑–∞–ø—Ä–æ—Å–æ–≤, –µ—Å–ª–∏ –∫—ç—à –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.**  
‚úÖ **Cloudflare `1.1.1.1` –∏ Google `8.8.8.8` ‚Äî –ª—É—á—à–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã DNS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.**  
‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DNS over HTTPS (DoH) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.**  


### English version 



# **DNS (Domain Name System) in Detail** üåçüöÄ  

## **1. What is DNS?**  
**DNS (Domain Name System)** is a system that translates **domain names** (e.g., `google.com`) into **IP addresses** (e.g., `142.250.74.238`) needed to establish a connection between a client and a server.  

üîπ **Why is DNS needed?**  
Instead of memorizing IP addresses, users enter easy-to-remember **human-friendly** names, and DNS automatically performs the translation (resolution).  

---  

## **2. How Does a DNS Query Work?** üîÑ  
When you enter `google.com` in your browser, DNS goes through **four lookup stages**:  

### **1. Checking Local Cache**  
The browser and operating system first check if the IP address for `google.com` is already cached.  

### **2. Querying the Recursive DNS Resolver**  
If the IP is not found in the cache, the request is sent to a **recursive DNS server** (usually provided by the ISP, or services like Google DNS `8.8.8.8`, Cloudflare `1.1.1.1`).  

### **3. Hierarchical DNS Lookup**  
The DNS server performs sequential queries:  
1. **Root servers** (`.`) ‚Üí Directs the query to the `.com` server.  
2. **TLD servers** (`.com`) ‚Üí Directs the query to `google.com`'s name server.  
3. **Authoritative server for `google.com`** ‚Üí Returns the final IP address.  

### **4. Returning the IP Address**  
The recursive resolver receives the IP, caches it, and sends it to the browser, which then establishes a connection with the server.  

---  

## **3. Types of DNS Queries** üïµÔ∏è‚Äç‚ôÇÔ∏è  
- **Recursive** ‚Äì The server continues querying until it finds the IP.  
- **Iterative** ‚Äì The server returns the closest available data but does not query further.  

---  

## **4. Main Types of DNS Records** üìå  
DNS stores not only IP addresses but also other important records.  

| **Type**  | **Description** | **Example** |  
|----------|-------------|------------|  
| `A` | IPv4 address of a domain | `google.com ‚Üí 142.250.74.238` |  
| `AAAA` | IPv6 address of a domain | `google.com ‚Üí 2607:f8b0::200e` |  
| `CNAME` | Alias (redirection) | `www.example.com ‚Üí example.com` |  
| `MX` | Mail servers | `mail.example.com ‚Üí 10.20.30.40` |  
| `TXT` | Text data (SPF, DKIM, domain verification) | `example.com ‚Üí "v=spf1 include:_spf.google.com ~all"` |  
| `NS` | Specifies authoritative DNS servers | `example.com ‚Üí ns1.dnsprovider.com` |  
| `SRV` | Defines services (e.g., SIP, XMPP) | `_sip._tcp.example.com` |  
| `PTR` | Reverse lookup (IP ‚Üí Domain) | `40.30.20.10 ‚Üí mail.example.com` |  

---  

## **5. DNS Caching and TTL (Time To Live)**  
DNS records are not queried every time; they are cached at different levels:  

- **Browser** (Chrome, Firefox) ‚Äì stores cache **for a few minutes**.  
- **OS (Windows, macOS, Linux)** ‚Äì stores cache **for several hours**.  
- **Intermediate DNS servers** (ISPs) ‚Äì cache records **according to TTL**.  

### **How to Check DNS Cache?**  
```sh
# Windows
ipconfig /displaydns

# macOS
sudo killall -HUP mDNSResponder && sudo dscacheutil -flushcache

# Linux
systemd-resolve --statistics
```  

### **How to Check a Domain‚Äôs TTL?**  
```sh
nslookup -type=a google.com
```
OR  
```sh
dig google.com +noall +answer
```  
üëâ **TTL = 300** means the record will be cached for 5 minutes.  

---  

## **6. DNS Issues and Their Solutions**  

### **1. "DNS_PROBE_FINISHED_NXDOMAIN"**  
‚ùå **Error:** Domain name not found.  
‚úÖ **Solution:**  
- Check if the domain name is entered correctly.  
- Flush the DNS cache (`ipconfig /flushdns`).  
- Use a **different DNS server** (`8.8.8.8`, `1.1.1.1`).  

---  

### **2. DNS Record Not Updating**  
‚ùå **Error:** DNS changes are not taking effect.  
‚úÖ **Solution:**  
- Wait **up to 48 hours** (due to caching).  
- Force clear the DNS cache (`flushdns`).  
- Use `nslookup` or `dig` to check new values.  

---  

### **3. Slow Domain Resolution**  
‚ùå **Error:** Slow DNS response time.  
‚úÖ **Solution:**  
- Use **faster DNS servers** (Google, Cloudflare).  
- Check `TTL` and lower it before updating records.  
- Check for **ISP (provider) issues**.  

---  

## **7. Fast Public DNS Servers (Alternatives to ISP DNS)**  

| **Provider** | **IPv4** | **IPv6** | **Features** |  
|--------------|---------|---------|------------|  
| **Google** | `8.8.8.8`, `8.8.4.4` | `2001:4860:4860::8888` | Fast, stable |  
| **Cloudflare** | `1.1.1.1`, `1.0.0.1` | `2606:4700:4700::1111` | Fastest (1ms response) |  
| **OpenDNS** | `208.67.222.222` | `2620:0:ccc::2` | Parental control |  
| **Quad9** | `9.9.9.9` | `2620:fe::fe` | Security, phishing protection |  

üìå **How to Change DNS in the System?**  
1. **Windows**: Control Panel ‚Üí Network Connections ‚Üí IPv4 Properties.  
2. **macOS**: System Preferences ‚Üí Network ‚Üí Advanced ‚Üí DNS.  
3. **Linux**: Edit `/etc/resolv.conf`.  

---  

## **8. DNS over HTTPS (DoH) and DNS over TLS (DoT)**  
üîí Regular DNS queries are **unencrypted**, allowing ISPs to track them.  

‚úÖ **Solution**:  
- **DNS over HTTPS (DoH)** ‚Äì Encrypts DNS queries via HTTPS.  
- **DNS over TLS (DoT)** ‚Äì Encrypts DNS at the TCP level.  

üìå **How to Enable DoH?**  
- **Google Chrome**: Enable "Secure DNS" in settings.  
- **Firefox**: Enable DoH in settings ‚Üí **Cloudflare DNS**.  
- **Android**: Use **1.1.1.1 App** by Cloudflare.  

---  

## **9. DNS vs. CDN (Cloudflare, Akamai, AWS Route 53)**  
Many companies use **CDNs (Content Delivery Networks)** to speed up website loading.  

‚úÖ **CDNs use Anycast DNS**, allowing queries to be directed to **the nearest server** instead of a single fixed IP.  

**Example with `dig`:**  
```sh
dig google.com
```
üëâ Google will return **different IP addresses depending on your location**.  

---  

## **10. Conclusion**  
‚úÖ **DNS is the "address book of the internet," translating domains into IP addresses.**  
‚úÖ **The browser's Event Loop can be affected by DNS queries if caching is not used.**  
‚úÖ **Cloudflare `1.1.1.1` and Google `8.8.8.8` are the best ISP DNS alternatives.**  
‚úÖ **Use DNS over HTTPS (DoH) to protect against query interception.**  
